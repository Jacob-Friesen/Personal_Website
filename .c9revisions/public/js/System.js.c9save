{"ts":1347300527182,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"$(document).ready(function(){\n    if (window.jasmine) return true;// test mode\n    \n    utility.orientation_compensation();\n    window.onresize = function() { utility.orientation_compensation(); };\n    \n    // Tries to load the sent in value if loaded via URL. Otherwise checks for a hash and loads using that\n    var page = window.location.href.split('/#').pop();\n    if (page == window.location.href)\n       page = $(\".to_load\")[0].id;\n\n    system.init_with(page);\n    return true; \n});\n\nvar system = {\n    SHOW: \"<p>▲</p>\",\n    HIDE: \"<p>▼</p>\",\n    \n    NEW_PAGE: null,\n    COLR_BAR: null,\n    \n    // Sets constants then initializes current pages javascript. Then opens the current page.\n    init_with: function(cur_page){\n        this.NEW_PAGE = $('#main_box');//cached for later\n        this.COLR_BAR = $('.page_state');//cached for later\n        \n        this.pre_page_load();\n        menu.init(constant.pages, constant.page_text);\n        menu.open_link(cur_page);\n    },\n    \n    // Sets up bottom bar, so adds event handlers for the buttons. Also sets the text to normal.\n    pre_page_load: function(){\n        $('#small_text_change').mousemove(function(){ system.update_text('small', this); });\n        $('#normal_text_change').mousemove(function(){ system.update_text('normal', this); });\n        $('#large_text_change').mousemove(function(){ system.update_text('large', this); });\n        \n        system.update_text('normal', $('#normal_text_change')[0]);\n    },\n    \n    // Adjust the size of the text based on size. Then updates the element to show that it is\n    // disabled, and all the other ones are now not disabled.\n    update_text: function(size, button){\n        utility.change_text.to[size]();\n        \n        // Update all other buttons to the default class except the one selected\n        $('button[id$=\"text_change\"]').each(function(){\n            this.className = \"text_change\";\n        })\n        button.className = \"text_change_selected\";\n    },\n    \n    page_init: function(page){    \n        // update the main color bar that provides page context\n        this.COLR_BAR.attr('id', page);\n        \n        this[page].init();\n        \n        // make sure text is in the right size on page load\n        utility.change_text.change_size_by(utility.change_text.current_scale);\n    },\n    \n    load_page: function(page, data, callback){\n        this.NEW_PAGE.load('/' + page, data, callback);\n    },\n  \n    // Just clears up image of myself\n    home: {\n        init: function(){\n            $(\"#main_image\").each( function () {\n                $(this).attr(\"src\", $(this).attr(\"src\").replace('_s',''));\n            });\n        }\n    },\n    \n    experience: experience,\n    skills: skills,\n    demos: demos\n};\n"]],"start1":0,"start2":0,"length1":0,"length2":2738}]],"length":2738}
